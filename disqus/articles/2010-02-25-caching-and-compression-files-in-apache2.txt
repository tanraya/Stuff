title: "Кэширование и сжатие файлов в apache2"
tags:
- apache2
- caching
- compression
- htaccess

<body>
<p>Прочёл статью <a rel="noindex,nofollow" href="http://www.xpro.su/archives/123">Настройка кеширования в Apache</a>. Хотелось бы дополнить её, но только для <strong>Apache2</strong>. Первый апач рассматривать не буду, он устарел, а всегда нужно стремиться к новому :)

Итак, как правильно заметил автор, по-умолчанию в Apache кэширование и сжатие отключено. Чтобы их включить, нужно подключить в Apache нужные модули. Это модули <strong>mod_deflate</strong>, <strong>mod_expires</strong> и <strong>mod_headers</strong>.

Я сделал свой конфиг, он отличается от конфига из статьи тем, что ваш сайт будет работать, даже если нужных модулей не будет установлено или включено. Плюс, я добавил установку mime-типов и кодировки по расширению, полезная штука. Итак, вот конфиг:
</p>
<div class="gist-wrapper"><script src="https://gist.github.com/1768795.js?file=gistfile1."></script></div>
Положите эти настройки в корневой .htaccess на вашем сайте и подключите модули, указанные в начале статьи. Всё должно работать.

Вот <a href="/files/apache2-modules-win32.zip">готовый архив с модулями</a> для windows-инсталляции Apache2. Линуксойды же справятся сами, использовав утилиту <em>a2enmod</em> :)</body>
