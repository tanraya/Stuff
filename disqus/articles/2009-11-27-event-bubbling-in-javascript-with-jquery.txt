title: "Event bubbling в Javascript - что это такое?"
tags:
- dom
- event-bubbling
- javascript
- jquery

<body>
<p>Мало кто знает, как работают события в <em>Javascript</em>. Сейчас же модно юзать фреймворки, вот люди и не задумываются, как оно там работает и зачастую, тратят очень много времени на простые вещи.

Я расскажу про такую широко известную в узких кругах фишку, как <em><strong>event bubbling</strong></em>. Что это вообще такое?

Когда мы кликаем по-какому либо элементу на странице, то событие поднимается по всем родительским узлам кликнутого элемента, пока не дойдет до узла <em>document</em>. Это и есть event bubbling.
<a href="/files/event-bubbling/wrong.html">Посмотрим наглядно</a> как это работает, ведь лучше увидеть, чем сказать тысячу слов.

Есть HTML:
</p>
<div class="gist-wrapper"><script src="https://gist.github.com/1768760.js?file=gistfile1.html"></script></div>

Есть CSS:
<div class="gist-wrapper"><script src="https://gist.github.com/1768763.js?file=gistfile1.css"></script></div>

И, самое главное, есть javascript (JQuery):
<div class="gist-wrapper"><script src="https://gist.github.com/1768765.js?file=gistfile1.js"></script></div>

Как видно по коду, у нас навешаны колбэки на клик по диалогу, а так же на клик по документу. Давайте теперь откроем рабочий пример и кликнем по диалогу. Что получилось? А получилось 2 алерта, алерт диалога и алерт документа. Почему так вышло, мы же кликнули только по диалогу? Причина этого именно в event bubbling'е.

Давайте теперь сделаем так, чтобы при клике по диалогу появлялся только алерт этого диалога. Все, что нужно сделать, это отменить event bubbling, чтобы он не поднимался вверх по <em>DOM </em>узлам. Сделать это можно просто добавив <em><strong>e.stopPropagation()</strong></em> в колбэк диалога. Все. Давайте <a href="/files/event-bubbling/okay.html">посмотрим второй пример</a>.

Вот так, вроде простая вещь - но знают о ней немногие. Ее знание сильно облегчает разработку на javascript. Как, например, без особых извращений сделать так, чтобы какой-либо элемент на странице скрывался при клике вне этого элемента? Только через event bubbling!

До скорого.</body>
